# ğŸ”§ ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ!

## âœ… ìˆ˜ì •ëœ ë¬¸ì œ

### 1ï¸âƒ£ **ë¡œê·¸ì¸ ì‹¤íŒ¨ ë¬¸ì œ** âœ…
**ë¬¸ì œ:**
- ë¡œê·¸ì¸ ì‹œ ë°±ì—”ë“œ API ì‘ë‹µê³¼ ì•±ì—ì„œ ê¸°ëŒ€í•˜ëŠ” ì‘ë‹µ í˜•ì‹ì´ ë‹¬ë¼ì„œ ì‹¤íŒ¨

**ì›ì¸:**
- ë°±ì—”ë“œ: `member` í•„ë“œë¡œ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜
- ì•±: `user` í•„ë“œì™€ `token` í•„ë“œ ê¸°ëŒ€

**í•´ê²°:**
```python
# gym_api/members/auth_views.py - login í•¨ìˆ˜ ìˆ˜ì •
return Response({
    'message': 'ë¡œê·¸ì¸ ì„±ê³µ',
    'user': serializer.data,      # member â†’ userë¡œ ë³€ê²½
    'token': token                 # token ì¶”ê°€
}, status=status.HTTP_200_OK)
```

---

### 2ï¸âƒ£ **íšŒì›ê°€ì… ì¸ì¦ë²ˆí˜¸ ìš”ì²­ ì‹¤íŒ¨** âœ…
**ë¬¸ì œ:**
- ì¸ì¦ë²ˆí˜¸ ìš”ì²­ ì‹œ API ì—°ê²° ì‹¤íŒ¨
- íšŒì›ê°€ì… ì™„ë£Œ í›„ì—ë„ í† í°ì´ ì—†ì–´ì„œ ë¡œê·¸ì¸ ì‹¤íŒ¨

**ì›ì¸:**
- API ì‘ë‹µ í˜•ì‹ ë¶ˆì¼ì¹˜ (`member` vs `user`)
- í† í° ë¯¸ë°œê¸‰

**í•´ê²°:**
```python
# gym_api/members/auth_views.py - register í•¨ìˆ˜ ìˆ˜ì •
return Response({
    'message': 'íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
    'user': serializer.data,       # member â†’ userë¡œ ë³€ê²½
    'token': token                 # token ì¶”ê°€
}, status=status.HTTP_201_CREATED)
```

---

### 3ï¸âƒ£ **ì„œë²„ ì—°ê²° ì„¤ì • ê°œì„ ** âœ…
**ì¶”ê°€ ê¸°ëŠ¥:**
- ì•± ìµœì´ˆ ì‹¤í–‰ ì‹œ ì„œë²„ URL ì„¤ì • í™”ë©´ ì¶”ê°€
- ì—°ê²° í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ êµ¬í˜„
- ì €ì¥ëœ URLë¡œ ìë™ ì—°ê²°

**íŒŒì¼:**
- `PumpyApp/src/screens/ServerConfigScreen.tsx` (ì‹ ê·œ ìƒì„±)

**ê¸°ëŠ¥:**
- âœ… ì„œë²„ URL ì…ë ¥
- âœ… ì—°ê²° í…ŒìŠ¤íŠ¸
- âœ… URL ì €ì¥ (AsyncStorage)
- âœ… ë„ì›€ë§ (ì—ë®¬ë ˆì´í„°/ì‹¤ê¸°ê¸°/LocalTunnel)

---

### 4ï¸âƒ£ **ìƒì„¸ ë¡œê·¸ ì¶”ê°€** âœ…
**ê°œì„ :**
- API í˜¸ì¶œ ì‹œ ìƒì„¸ ë¡œê·¸ ì¶œë ¥
- ì—ëŸ¬ ë°œìƒ ì‹œ ìì„¸í•œ ì •ë³´ í‘œì‹œ

```typescript
// PumpyApp/src/services/authService.ts
console.log('Login API Base URL:', apiBase);
console.log('Login URL:', `${apiBase}/auth/login/`);
console.log('Login response:', response.data);
console.error('Login error:', error.response?.data || error.message);
```

---

## ğŸ“¦ ìƒˆë¡œìš´ APK

### ğŸ¯ ë¹Œë“œ ì •ë³´
- âœ… **íŒŒì¼ëª…**: `Pumpy_Fixed.apk`
- âœ… **ìœ„ì¹˜**: `C:\Users\guddn\Downloads\COCO\Pumpy_Fixed.apk`
- âœ… **ë¹Œë“œ ì‹œê°„**: 2025-10-15
- âœ… **ë³€ê²½ ì‚¬í•­**: 
  - ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •
  - íšŒì›ê°€ì… ë²„ê·¸ ìˆ˜ì •
  - ì„œë²„ ì„¤ì • í™”ë©´ ì¶”ê°€
  - ìƒì„¸ ë¡œê·¸ ì¶”ê°€

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1ï¸âƒ£ **ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰**
```bash
cd C:\Users\guddn\Downloads\COCO\gym_api
.venv\Scripts\python manage.py runserver 0.0.0.0:8000
```

### 2ï¸âƒ£ **APK ì„¤ì¹˜**
- `Pumpy_Fixed.apk` íŒŒì¼ì„ ì•ˆë“œë¡œì´ë“œ ê¸°ê¸°ë¡œ ì „ì†¡
- ì„¤ì¹˜ ì§„í–‰

### 3ï¸âƒ£ **ì•± ìµœì´ˆ ì‹¤í–‰**
1. ì„œë²„ ì„¤ì • í™”ë©´ì´ ë‚˜íƒ€ë‚¨
2. ì„œë²„ URL ì…ë ¥:
   - **ì—ë®¬ë ˆì´í„°**: `http://10.0.2.2:8000/api`
   - **ì‹¤ì œ ê¸°ê¸°**: `http://[PC_IP]:8000/api`
   - **LocalTunnel**: `https://xxxx.loca.lt/api`
3. "ì—°ê²° í…ŒìŠ¤íŠ¸ & ì €ì¥" í´ë¦­
4. ì—°ê²° ì„±ê³µ ì‹œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™

### 4ï¸âƒ£ **íšŒì›ê°€ì…**
1. "íšŒì›ê°€ì…" í´ë¦­
2. ì •ë³´ ì…ë ¥:
   - ì´ë©”ì¼
   - ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)
   - ì´ë¦„ (ì„±/ì´ë¦„)
   - ì „í™”ë²ˆí˜¸
3. "ì¸ì¦" ë²„íŠ¼ í´ë¦­ â†’ ì¸ì¦ ì½”ë“œ í‘œì‹œë¨ (ê°œë°œìš©)
4. ì¸ì¦ ì½”ë“œ ì…ë ¥ â†’ "í™•ì¸" í´ë¦­
5. ì•½ê´€ ë™ì˜ ì²´í¬
6. "ê°€ì…í•˜ê¸°" í´ë¦­
7. ìë™ ë¡œê·¸ì¸ â†’ ì•± ë©”ì¸ í™”ë©´

### 5ï¸âƒ£ **ë¡œê·¸ì¸**
1. ì´ë©”ì¼ + ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
2. "ë¡œê·¸ì¸" í´ë¦­
3. ì•± ë©”ì¸ í™”ë©´ í‘œì‹œ

---

## ğŸ” í…ŒìŠ¤íŠ¸ ë°©ë²•

### âœ… **íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸**
```bash
# 1. ë°±ì—”ë“œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
# 2. ì•±ì—ì„œ ì„œë²„ URL ì„¤ì •
# 3. íšŒì›ê°€ì… ì§„í–‰
# 4. ë‹¤ìŒ ì •ë³´ ì‚¬ìš©:
ì´ë©”ì¼: test@example.com
ë¹„ë°€ë²ˆí˜¸: test1234
ì´ë¦„: í…ŒìŠ¤íŠ¸
ì „í™”ë²ˆí˜¸: 01012345678
```

### âœ… **ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸**
```bash
# íšŒì›ê°€ì… ì™„ë£Œ í›„
# ë¡œê·¸ì¸ í™”ë©´ì—ì„œ:
ì´ë©”ì¼: test@example.com
ë¹„ë°€ë²ˆí˜¸: test1234
```

### âœ… **ì¸ì¦ë²ˆí˜¸ í…ŒìŠ¤íŠ¸**
```bash
# íšŒì›ê°€ì… > ì „í™”ë²ˆí˜¸ ì…ë ¥ > ì¸ì¦ í´ë¦­
# â†’ ì•Œë¦¼ì°½ì— ì¸ì¦ ì½”ë“œ í‘œì‹œë¨
# â†’ ì½”ë“œ ì…ë ¥ â†’ í™•ì¸ í´ë¦­
# â†’ "âœ… ì „í™”ë²ˆí˜¸ ì¸ì¦ ì™„ë£Œ!" í‘œì‹œ
```

---

## ğŸ”§ ë°±ì—”ë“œ API ë³€ê²½ì‚¬í•­

### **auth_views.py**
```python
# ë¡œê·¸ì¸ API
@api_view(['POST'])
@permission_classes([AllowAny])
def login(request):
    # ... (ì½”ë“œ ìƒëµ) ...
    
    # âœ… ìˆ˜ì •: user í•„ë“œì™€ token í•„ë“œ ë°˜í™˜
    return Response({
        'message': 'ë¡œê·¸ì¸ ì„±ê³µ',
        'user': serializer.data,
        'token': token
    }, status=status.HTTP_200_OK)

# íšŒì›ê°€ì… API
@api_view(['POST'])
@permission_classes([AllowAny])
def register(request):
    # ... (ì½”ë“œ ìƒëµ) ...
    
    # âœ… ìˆ˜ì •: user í•„ë“œì™€ token í•„ë“œ ë°˜í™˜
    return Response({
        'message': 'íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
        'user': serializer.data,
        'token': token
    }, status=status.HTTP_201_CREATED)
```

---

## ğŸ“± ì•± íë¦„

```
ì•± ì‹¤í–‰
    â†“
ì„œë²„ URL ì„¤ì •? 
    â†“ (No)
ì„œë²„ ì„¤ì • í™”ë©´ â†’ URL ì…ë ¥ â†’ ì—°ê²° í…ŒìŠ¤íŠ¸ â†’ ì €ì¥
    â†“ (Yes)
ë¡œê·¸ì¸ ì—¬ë¶€?
    â†“ (No)
ë¡œê·¸ì¸ í™”ë©´
    â†“
    â”œâ”€ ë¡œê·¸ì¸ â†’ ë©”ì¸ ì•±
    â””â”€ íšŒì›ê°€ì… â†’ ì •ë³´ ì…ë ¥ â†’ ì¸ì¦ â†’ ì•½ê´€ â†’ ê°€ì… ì™„ë£Œ â†’ ë©”ì¸ ì•±
    â†“ (Yes)
ë©”ì¸ ì•±
    â”œâ”€ í™ˆ
    â”œâ”€ ì»¤ë®¤ë‹ˆí‹°
    â”œâ”€ ì±„íŒ…
    â””â”€ í”„ë¡œí•„ (ë¡œê·¸ì•„ì›ƒ)
```

---

## ğŸ› ë””ë²„ê¹… ë¡œê·¸

ì•± ì‹¤í–‰ ì‹œ ë‹¤ìŒ ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
// ë¡œê·¸ì¸
Login API Base URL: http://10.0.2.2:8000/api
Login URL: http://10.0.2.2:8000/api/auth/login/
Login credentials: {email: 'test@example.com', password: '***'}
Login response: {message: 'ë¡œê·¸ì¸ ì„±ê³µ', user: {...}, token: '...'}

// ì¸ì¦ë²ˆí˜¸
API Base URL: http://10.0.2.2:8000/api
Sending verification to: http://10.0.2.2:8000/api/auth/send-verification/
Verification response: {message: 'ì¸ì¦ ì½”ë“œê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.', code: '123456', ...}
```

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- âœ… ë¡œê·¸ì¸ ë²„ê·¸ ìˆ˜ì •
- âœ… íšŒì›ê°€ì… ì¸ì¦ë²ˆí˜¸ ë²„ê·¸ ìˆ˜ì •
- âœ… ë°±ì—”ë“œ API ì‘ë‹µ í˜•ì‹ í†µì¼ (user + token)
- âœ… ì„œë²„ ì„¤ì • í™”ë©´ ì¶”ê°€
- âœ… ì—°ê²° í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì¶”ê°€
- âœ… ìƒì„¸ ë¡œê·¸ ì¶”ê°€
- âœ… ìƒˆë¡œìš´ APK ë¹Œë“œ ì™„ë£Œ
- âœ… ë¬¸ì„œ ì‘ì„± ì™„ë£Œ

---

## ğŸŠ ì™„ë£Œ!

ëª¨ë“  ë²„ê·¸ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!

**ìƒˆë¡œìš´ APK:**
```
C:\Users\guddn\Downloads\COCO\Pumpy_Fixed.apk
```

ì´ì œ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤:
- âœ… íšŒì›ê°€ì… (ì „í™”ë²ˆí˜¸ ì¸ì¦ í¬í•¨)
- âœ… ë¡œê·¸ì¸
- âœ… ì„œë²„ ì—°ê²° ì„¤ì •

**í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!** ğŸš€ğŸ’ªâœ¨

