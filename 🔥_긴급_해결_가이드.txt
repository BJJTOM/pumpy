🔥🔥🔥 긴급 해결 가이드 🔥🔥🔥

문제: 흰 화면 + 응답 시간 초과

═══════════════════════════════════════════════

✅ 1단계: AWS 보안 그룹 확인 (90% 이것 때문!)
═══════════════════════════════════════════════

1. AWS 콘솔 접속: https://console.aws.amazon.com/
2. EC2 → 인스턴스 클릭
3. pumpy 서버 선택
4. 아래 "보안" 탭 클릭
5. "보안 그룹" 클릭 (sg-xxxx 형식)
6. "인바운드 규칙" 탭 클릭
7. "인바운드 규칙 편집" 버튼 클릭

필수 규칙 추가:

┌──────────────────────────────────────┐
│ 유형: 사용자 지정 TCP                │
│ 포트: 3000                           │
│ 소스: 0.0.0.0/0                      │
└──────────────────────────────────────┘

┌──────────────────────────────────────┐
│ 유형: 사용자 지정 TCP                │
│ 포트: 8000                           │
│ 소스: 0.0.0.0/0                      │
└──────────────────────────────────────┘

"규칙 저장" 버튼 클릭!

═══════════════════════════════════════════════

✅ 2단계: 서버 재시작
═══════════════════════════════════════════════

AWS 콘솔에서 "연결" → "EC2 Instance Connect"

아래 명령어 전체 복사해서 붙여넣기:

────────────────────────────────────────────────
bash /home/ubuntu/pumpy/fix_aws_connection.sh
────────────────────────────────────────────────

또는 한 줄씩:

cd /home/ubuntu/pumpy/gym_api
source venv/bin/activate
sudo systemctl restart gunicorn || nohup gunicorn --workers 3 --bind 0.0.0.0:8000 config.wsgi:application &

cd /home/ubuntu/pumpy/gym_web
pm2 restart gym_web || pm2 start npm --name "gym_web" -- start
pm2 save

═══════════════════════════════════════════════

✅ 3단계: 테스트
═══════════════════════════════════════════════

브라우저에서:
→ http://3.27.28.175:8000/api/members/

JSON 데이터가 보이나요?
├─ YES → 백엔드 정상! 프론트엔드 확인
└─ NO  → 보안 그룹 다시 확인!

브라우저에서:
→ http://3.27.28.175:3000

페이지가 로딩되나요?
├─ YES → 완료! 🎉
└─ NO  → 아래 4단계 진행

═══════════════════════════════════════════════

✅ 4단계: 로그 확인
═══════════════════════════════════════════════

AWS 터미널에서:

# 백엔드 로그
sudo journalctl -u gunicorn -n 30
tail -f /tmp/gunicorn.log

# 프론트엔드 로그
pm2 logs gym_web --lines 30

# 포트 확인
sudo netstat -tlnp | grep -E ':(3000|8000)'

결과:
✅ :3000 LISTEN → 프론트엔드 실행 중
✅ :8000 LISTEN → 백엔드 실행 중
❌ 없음 → 서비스가 시작되지 않음

═══════════════════════════════════════════════

🆘 그래도 안 되면?
═══════════════════════════════════════════════

옵션 1: 직접 실행 (디버깅)

AWS 터미널에서:

# 백엔드 직접 실행
cd /home/ubuntu/pumpy/gym_api
source venv/bin/activate
python manage.py runserver 0.0.0.0:8000

# 새 터미널에서 프론트엔드 실행
cd /home/ubuntu/pumpy/gym_web
npm run dev

═══════════════════════════════════════════════

옵션 2: 서버 완전 재설정

AWS 터미널에서:

sudo systemctl stop gunicorn
pm2 delete all
sudo fuser -k 3000/tcp
sudo fuser -k 8000/tcp

cd /home/ubuntu/pumpy/gym_api
source venv/bin/activate
nohup gunicorn --workers 3 --bind 0.0.0.0:8000 config.wsgi:application > /tmp/gunicorn.log 2>&1 &

cd /home/ubuntu/pumpy/gym_web
npm run build
pm2 start npm --name "gym_web" -- start
pm2 save

═══════════════════════════════════════════════

📞 빠른 체크리스트
═══════════════════════════════════════════════

□ AWS 보안 그룹에 포트 3000 추가됨
□ AWS 보안 그룹에 포트 8000 추가됨
□ http://3.27.28.175:8000/api/members/ 접속됨
□ http://3.27.28.175:3000 접속됨

═══════════════════════════════════════════════

🎯 결론
═══════════════════════════════════════════════

대부분의 경우 AWS 보안 그룹 설정이 문제입니다!

1. 보안 그룹에 포트 3000, 8000 추가
2. 서버 재시작
3. 브라우저 새로고침 (Ctrl+F5)

═══════════════════════════════════════════════

작성: 2025-10-21
긴급도: 🔥🔥🔥 최고





