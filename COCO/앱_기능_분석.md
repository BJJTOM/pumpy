# 펌피 회원 앱 기능 분석 📱

## 📋 목차
1. [현재 구현된 기능](#현재-구현된-기능)
2. [페이지별 상세 분석](#페이지별-상세-분석)
3. [데이터 저장 방식](#데이터-저장-방식)
4. [UI/UX 분석](#uiux-분석)
5. [개선 필요 사항](#개선-필요-사항)
6. [추천 개발 방향](#추천-개발-방향)

---

## 🎯 현재 구현된 기능

### ✅ 완성도 높은 페이지
1. **메인 페이지** (`/app`)
   - 사용자 프로필 (사진, 이름)
   - 신체 정보 (체중, 근육량, 체지방)
   - AI 캐릭터 (사진 기반)
   - 오늘의 운동 (WOD)
   - 오늘의 활동 통계
   - 빠른 액션 카드 (식단, 운동, 진행상황, 커뮤니티)
   - 하단 네비게이션

2. **프로필 페이지** (`/app/profile`)
   - AI 캐릭터 사진 업로드
   - 신체 정보 입력/수정 (키, 체중, 근육량, 체지방)
   - BMI 계산 및 상태 표시
   - 약관 확인 (이용약관, 개인정보처리방침, 마케팅)
   - 빠른 액션 버튼들

3. **서버 설정** (`/app/server-config`)
   - API 서버 URL 설정

### 🚧 기본 구현된 페이지 (임시 데이터)
1. **커뮤니티** (`/app/community`)
   - 게시글 목록 (임시 데이터)
   - 새 게시글 작성 UI
   - 좋아요, 댓글 표시

2. **채팅** (`/app/chat`)
   - 기본 구조만 구현

3. **식단 기록** (`/app/meal`)
   - 기본 구조만 구현

4. **운동 기록** (`/app/workout`)
   - 기본 구조만 구현

5. **진행 상황/목표** (`/app/goals`)
   - 기본 구조만 구현

6. **출석 히스토리** (`/app/attendance-history`)
   - 기본 구조만 구현

7. **캐릭터** (`/app/character`)
   - 기본 구조만 구현

8. **설정** (`/app/settings`)
   - 기본 구조만 구현

---

## 📱 페이지별 상세 분석

### 1️⃣ 메인 페이지 (`/app/page.tsx`)

**현재 기능:**
- ✅ 사용자 인사 (날짜, 이름)
- ✅ 프로필 사진 (클릭 시 프로필로 이동)
- ✅ 신체 정보 카드 (체중, 근육량, 체지방) - LocalStorage
- ✅ AI 캐릭터 섹션 (사진 등록 안내)
- ✅ 오늘의 운동 (WOD API 연동)
- ✅ 오늘의 활동 통계 (임시 데이터)
- ✅ 빠른 액션 그리드 (4개 카드)
- ✅ 하단 네비게이션 (고정)

**데이터 소스:**
- API: `/members/`, `/wods/`
- LocalStorage: `user_photo_{userId}`, `body_stats_{userId}`
- 하드코딩: todayStats (칼로리, 운동, 식사)

**강점:**
- 깔끔한 그라데이션 디자인
- 직관적인 정보 배치
- 터치 친화적 UI

**개선 필요:**
- 오늘의 활동 통계를 실제 데이터로 연동
- 사용자 선택 기능 (현재는 첫 번째 회원 고정)

---

### 2️⃣ 프로필 페이지 (`/app/profile/page.tsx`)

**현재 기능:**
- ✅ AI 캐릭터 사진 업로드 (5MB 제한)
- ✅ 신체 정보 수정 (키, 체중, 근육량, 체지방)
- ✅ BMI 자동 계산 및 상태 표시
- ✅ 약관 확인 모달 (TermsModal 컴포넌트)
- ✅ 빠른 액션 버튼 (식단, 운동, 출석, 커뮤니티)

**데이터 소스:**
- API: `/members/`
- LocalStorage: `user_photo_{userId}`, `body_stats_{userId}`

**강점:**
- 사진 업로드 시 AI 캐릭터 생성 피드백
- BMI 계산 및 시각적 상태 표시
- 인라인 편집 (모달 형태)

**개선 필요:**
- 회원 정보 수정 API 연동 필요
- 출석 기록 실제 데이터 표시
- 회원권 정보 표시

---

### 3️⃣ 커뮤니티 (`/app/community/page.tsx`)

**현재 상태:**
- 🚧 임시 데이터로 게시글 2개 표시
- 🚧 새 게시글 작성 UI만 구현
- 🚧 API 연동 안 됨 (TODO 주석)

**필요한 기능:**
- 게시글 CRUD (Create, Read, Update, Delete)
- 이미지 업로드
- 좋아요/댓글 기능
- 무한 스크롤 또는 페이지네이션

**API 엔드포인트 (이미 백엔드에 존재):**
- `POST /api/posts/` - 게시글 작성
- `GET /api/posts/` - 게시글 목록
- `POST /api/posts/{id}/like/` - 좋아요
- `POST /api/comments/` - 댓글 작성
- `GET /api/comments/?post_id={id}` - 댓글 조회

---

### 4️⃣ 채팅 (`/app/chat/page.tsx`)

**현재 상태:**
- 🚧 기본 구조만 존재
- 🚧 API 연동 안 됨

**필요한 기능:**
- 채팅방 목록
- 1:1 채팅 (트레이너와 소통)
- 실시간 메시지 (WebSocket 또는 폴링)
- 읽음/안읽음 표시

**API 엔드포인트 (백엔드에 존재):**
- `GET /api/chat-rooms/` - 채팅방 목록
- `GET /api/chat-messages/?room_id={id}` - 메시지 조회
- `POST /api/chat-messages/` - 메시지 전송

---

### 5️⃣ 식단 기록 (`/app/meal/page.tsx`)

**필요한 기능:**
- 식사 사진 업로드
- 식단 정보 입력 (칼로리, 탄수화물, 단백질, 지방)
- 일별 식단 히스토리
- 영양소 통계 차트

**API 엔드포인트 (백엔드에 존재):**
- `POST /api/meal-logs/` - 식단 기록
- `GET /api/meal-logs/?member_id={id}` - 식단 조회

---

### 6️⃣ 운동 기록 (`/app/workout/page.tsx`)

**필요한 기능:**
- 운동 종목 선택
- 세트/무게/횟수 입력
- 운동 타이머
- 운동 히스토리
- 진행률 차트

**API 엔드포인트 (백엔드에 존재):**
- `POST /api/workout-logs/` - 운동 기록
- `GET /api/workout-logs/?member_id={id}` - 운동 조회
- `GET /api/wods/` - 오늘의 운동 (WOD)

---

### 7️⃣ 진행 상황/목표 (`/app/goals/page.tsx`)

**필요한 기능:**
- 목표 설정 (체중, 근육량, 목표 날짜)
- 진행률 시각화 (차트)
- 달성도 표시
- 동기부여 메시지

**추가 개발 필요:**
- 목표 관련 모델 추가 또는 계산 로직 구현

---

## 💾 데이터 저장 방식

### LocalStorage 활용
```javascript
// 현재 사용 중인 키
- user_photo_{userId}        // 프로필 사진 (Base64)
- body_stats_{userId}        // 신체 정보 (JSON)
- serverUrl                  // API 서버 URL
- theme                      // 테마 (light/dark)
```

### API 연동 상태
| 기능 | API 연동 | 상태 |
|------|---------|------|
| 회원 정보 조회 | ✅ | `/members/` |
| 오늘의 운동 | ✅ | `/wods/` |
| 게시글 | ❌ | `/posts/` (구현 필요) |
| 댓글 | ❌ | `/comments/` (구현 필요) |
| 채팅 | ❌ | `/chat-messages/` (구현 필요) |
| 식단 기록 | ❌ | `/meal-logs/` (구현 필요) |
| 운동 기록 | ❌ | `/workout-logs/` (구현 필요) |
| 출석 기록 | ❌ | `/attendance/` (구현 필요) |

---

## 🎨 UI/UX 분석

### 강점
1. **일관된 디자인 시스템**
   - 그라데이션 배경 (보라색 계열)
   - 흰색 카드 기반 레이아웃
   - 큰 이모지 아이콘
   - 둥근 모서리 (border-radius: 20px)

2. **터치 친화적**
   - 큰 버튼 (최소 44px 높이)
   - 넉넉한 간격
   - 호버 효과 (확대, 그림자)

3. **직관적인 네비게이션**
   - 하단 고정 네비게이션
   - 명확한 아이콘 + 텍스트
   - 활성 상태 표시

### 개선 가능 영역
1. **로딩 상태**
   - 일부 페이지에 로딩 스피너 부족
   - 에러 처리 미흡

2. **피드백**
   - API 요청 성공/실패 피드백 부족
   - 토스트 알림 시스템 필요

3. **일관성**
   - 일부 페이지는 인라인 스타일, 일부는 다른 방식
   - 공통 컴포넌트 부족

---

## ⚠️ 개선 필요 사항

### 1. 사용자 인증/선택
- **문제**: 현재 첫 번째 회원 자동 선택
- **해결**: 로그인 또는 회원 선택 화면 추가

### 2. 실시간 데이터
- **문제**: 오늘의 활동 통계가 하드코딩
- **해결**: 출석/운동/식단 API 데이터 집계

### 3. API 연동
- **문제**: 커뮤니티, 채팅, 식단, 운동 기록 미연동
- **해결**: 순차적으로 API 연동

### 4. 이미지 처리
- **문제**: 이미지를 LocalStorage에 Base64로 저장 (용량 제한)
- **해결**: 서버 업로드 또는 IndexedDB 사용

### 5. 오프라인 지원
- **문제**: 네트워크 없으면 앱 사용 불가
- **해결**: Service Worker, 캐싱 전략

---

## 🚀 추천 개발 방향

### Phase 1: 핵심 기능 강화 (우선순위 높음)
1. **사용자 로그인/선택**
   - 전화번호 뒤 4자리 입력
   - 선택한 회원 정보 LocalStorage 저장
   - 모든 API 요청에 회원 ID 포함

2. **출석 기록 연동**
   - 오늘 출석 여부 확인
   - 출석 히스토리 조회
   - 연속 출석 일수 표시

3. **운동 기록**
   - 오늘의 운동 (WOD) 상세 보기
   - 운동 기록 추가 (세트/무게/횟수)
   - 운동 타이머 기능

### Phase 2: 소셜 기능 (우선순위 중간)
1. **커뮤니티 완성**
   - 게시글 CRUD
   - 이미지 업로드
   - 좋아요/댓글

2. **채팅 구현**
   - 트레이너와 1:1 채팅
   - 실시간 메시지
   - 알림 기능

### Phase 3: 고급 기능 (우선순위 낮음)
1. **식단 관리**
   - 식사 사진 업로드
   - 칼로리/영양소 기록
   - AI 식단 분석

2. **목표 관리**
   - 목표 설정 및 트래킹
   - 진행률 차트
   - 동기부여 알림

3. **게이미피케이션**
   - 배지/업적 시스템
   - 레벨/포인트
   - 리더보드

---

## 📊 현재 완성도

```
전체 기능: ████████░░ 40%

메인 페이지:        ████████░░ 80%
프로필:            ████████░░ 80%
출석 체크:         ██████████ 100% (관리자용)
커뮤니티:          ███░░░░░░░ 30%
채팅:              ██░░░░░░░░ 20%
식단 기록:         ██░░░░░░░░ 20%
운동 기록:         ██░░░░░░░░ 20%
목표 관리:         ██░░░░░░░░ 20%
```

---

## 💡 다음 단계 추천

### 즉시 구현 가능
1. ✅ **로그인/회원 선택 화면** (출석 체크 UI 재활용)
2. ✅ **출석 기록 조회** (이미 API 존재)
3. ✅ **오늘의 활동 실제 데이터 연동**

### 1-2일 소요
4. 📝 **운동 기록 페이지 완성**
5. 📝 **커뮤니티 API 연동**

### 3-5일 소요
6. 💬 **채팅 기능 구현**
7. 🍽️ **식단 기록 완성**

### 향후 고려
8. 🎯 **목표 관리 시스템**
9. 🏆 **게이미피케이션**
10. 📱 **네이티브 앱 빌드** (Capacitor)

---

**결론**: 앱의 기본 틀은 잘 갖춰져 있으며, UI/UX도 훌륭합니다. 
이제 **API 연동**과 **실제 데이터 흐름** 구현에 집중하면 완성도 높은 앱이 될 것입니다! 💪










