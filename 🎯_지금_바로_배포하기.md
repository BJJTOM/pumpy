# 🎯 지금 바로 AWS에 배포하기

## ✅ GitHub 푸시 완료!
- **커밋**: ae3b016
- **브랜치**: main
- **저장소**: https://github.com/BJJTOM/pumpy.git

---

## 🚀 **1분 안에 배포 완료!**

### 방법 1: 원라인 배포 (가장 빠름!) ⚡

AWS 서버에 접속 후 아래 명령어 **하나만** 복사해서 실행:

```bash
cd /home/ubuntu/pumpy && git pull origin main && cd gym_api && source venv/bin/activate && pip install -r requirements.txt && python manage.py migrate && python manage.py collectstatic --noinput && sudo systemctl restart gunicorn && cd ../gym_web && npm install && npm run build && pm2 restart gym_web && sudo systemctl restart nginx && echo "✅ 배포 완료!"
```

---

### 방법 2: 단계별 배포

#### 1️⃣ AWS 서버 접속
```bash
ssh -i "your-key.pem" ubuntu@3.27.28.175
```

#### 2️⃣ 코드 업데이트
```bash
cd /home/ubuntu/pumpy
git pull origin main
```

#### 3️⃣ 백엔드 배포
```bash
cd gym_api
source venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py collectstatic --noinput
sudo systemctl restart gunicorn
```

#### 4️⃣ 프론트엔드 배포
```bash
cd ../gym_web
npm install
npm run build
pm2 restart gym_web
```

#### 5️⃣ Nginx 재시작
```bash
sudo systemctl restart nginx
```

---

## 🆕 새로 추가된 기능

### 1. 💬 커뮤니티 페이지
- **URL**: http://3.27.28.175/community
- 게시글 작성 & 조회
- 댓글 기능
- 좋아요 기능
- 카테고리 필터링

### 2. 🎨 UI 개선
- ✨ 멋진 그라디언트 배경
- 🌊 떠다니는 아이콘 애니메이션
- 💫 떠다니는 원 효과
- 🔮 글래스모피즘 카드
- ⚡ 빛나는 애니메이션

---

## 🌐 배포 후 확인

브라우저에서 아래 주소 접속:

| 페이지 | URL |
|--------|-----|
| 🏠 메인 | http://3.27.28.175 |
| 💬 커뮤니티 | http://3.27.28.175/community |
| 🔌 API | http://3.27.28.175/api/ |
| ⚙️ 관리자 | http://3.27.28.175/admin/ |

---

## 🔧 트러블슈팅

### Gunicorn 재시작 안되는 경우
```bash
sudo fuser -k 8000/tcp
sudo systemctl start gunicorn
```

### PM2 재시작 안되는 경우
```bash
pm2 delete gym_web
pm2 start npm --name "gym_web" -- start
pm2 save
```

### 포트 확인
```bash
sudo netstat -tlnp | grep -E ':(80|3000|8000)'
```

### 로그 확인
```bash
# Django
sudo journalctl -u gunicorn -n 50

# Next.js
pm2 logs gym_web

# Nginx
sudo tail -f /var/log/nginx/error.log
```

---

## 🎉 배포 완료 후

1. ✅ http://3.27.28.175 접속
2. ✅ 새로운 UI 확인 (떠다니는 아이콘, 배경)
3. ✅ 커뮤니티 페이지 테스트
4. ✅ 모든 기능 정상 작동 확인

---

## 📱 AWS 서버 접속 방법

### Windows (PuTTY)
1. PuTTY 실행
2. Host: `3.27.28.175`
3. Port: `22`
4. SSH > Auth > Private key: `.pem` 파일 선택
5. Open 클릭

### Windows (CMD/PowerShell)
```bash
ssh -i "C:\path\to\your-key.pem" ubuntu@3.27.28.175
```

### Mac/Linux
```bash
chmod 400 your-key.pem
ssh -i your-key.pem ubuntu@3.27.28.175
```

---

## 💡 배포 자동화 (선택사항)

GitHub Actions를 사용하면 push할 때마다 자동 배포 가능!

`.github/workflows/deploy.yml` 파일 생성 후:
```yaml
name: Deploy to AWS

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Deploy
        run: |
          ssh -i ${{ secrets.SSH_KEY }} ubuntu@3.27.28.175 '
            cd /home/ubuntu/pumpy &&
            git pull origin main &&
            # ... 배포 명령어
          '
```

---

**🚀 위의 원라인 명령어를 AWS 서버에서 실행하면 1분 안에 배포 완료!**

