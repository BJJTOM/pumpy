â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ AWS ì™„ì „ ë°°í¬ - ë‹¨ 3ë‹¨ê³„!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

í˜„ì¬ ìƒí™©:
  âœ… ë¡œì»¬ ê°œë°œ ì™„ë£Œ (ìƒí’ˆê´€ë¦¬/ë§¤ì¶œ/íšŒì›ì‹ ì²­ ëª¨ë‘ êµ¬í˜„)
  âœ… ë¡œì»¬ ë¹Œë“œ ì„±ê³µ
  âŒ AWSì— ë°˜ì˜ í•„ìš”

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ 1ë‹¨ê³„: AWS ì½˜ì†” ì ‘ì†
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. https://console.aws.amazon.com/ ì ‘ì†
2. EC2 â†’ ì¸ìŠ¤í„´ìŠ¤
3. pumpy ì„œë²„ ì„ íƒ
4. "ì—°ê²°" ë²„íŠ¼ í´ë¦­
5. "EC2 Instance Connect" ì„ íƒ
6. "ì—°ê²°" ë²„íŠ¼ í´ë¦­
7. ë¸Œë¼ìš°ì € í„°ë¯¸ë„ ì—´ë¦¼!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ 2ë‹¨ê³„: ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AWS í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ ì „ì²´ ë³µì‚¬ í›„ ë¶™ì—¬ë„£ê¸°!

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#!/bin/bash
cd /home/ubuntu/pumpy

echo "ğŸš€ íŒí”¼ ì™„ì „ ë°°í¬ ì‹œì‘..."

# ë°±ì—…
echo "[1/7] ë°±ì—… ì¤‘..."
tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz gym_api gym_web 2>/dev/null || true

# ë°±ì—”ë“œ ì—…ë°ì´íŠ¸
echo "[2/7] ë°±ì—”ë“œ ì—…ë°ì´íŠ¸..."
cd /home/ubuntu/pumpy/gym_api
source venv/bin/activate
pip install -r requirements.txt --quiet
python manage.py makemigrations
python manage.py migrate
python manage.py collectstatic --noinput

# Gunicorn ì¬ì‹œì‘
echo "[3/7] Gunicorn ì¬ì‹œì‘..."
sudo systemctl restart gunicorn || nohup gunicorn --workers 3 --bind 0.0.0.0:8000 config.wsgi:application > /tmp/gunicorn.log 2>&1 &
sleep 2

# í”„ë¡ íŠ¸ì—”ë“œ ì—…ë°ì´íŠ¸
echo "[4/7] í”„ë¡ íŠ¸ì—”ë“œ ì—…ë°ì´íŠ¸..."
cd /home/ubuntu/pumpy/gym_web
npm install
npm run build

# PM2 ì¬ì‹œì‘
echo "[5/7] PM2 ì¬ì‹œì‘..."
pm2 delete gym_web 2>/dev/null || true
pm2 start npm --name "gym_web" -- start
pm2 save

# ìƒíƒœ í™•ì¸
echo "[6/7] ìƒíƒœ í™•ì¸..."
sleep 2
sudo netstat -tlnp | grep -E ':(80|3000|8000)'
pm2 status

echo ""
echo "[7/7] ì™„ë£Œ! âœ…"
echo ""
echo "ì ‘ì†: http://3.27.28.175/"
echo ""
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ 3ë‹¨ê³„: ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

http://3.27.28.175/

í…ŒìŠ¤íŠ¸í•  í˜ì´ì§€:
  âœ“ ëŒ€ì‹œë³´ë“œ (ë©”ì¸)
  âœ“ ìƒí’ˆ ê´€ë¦¬ (/plans)
  âœ“ ë§¤ì¶œ ê´€ë¦¬ (/revenue)
  âœ“ íšŒì› ì‹ ì²­ (/members/new)
  âœ“ íšŒì› ê´€ë¦¬ (/members)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ ì—¬ì „íˆ "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."ì´ ë‚˜ì˜¤ë©´?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AWS í„°ë¯¸ë„ì—ì„œ:

# CORS ë¬¸ì œ í•´ê²°
cd /home/ubuntu/pumpy/gym_api
echo "" >> config/settings.py
echo "# AWS CORS ì„¤ì •" >> config/settings.py
echo "CORS_ALLOWED_ORIGINS = [" >> config/settings.py
echo '    "http://localhost:3000",' >> config/settings.py
echo '    "http://127.0.0.1:3000",' >> config/settings.py
echo '    "http://3.27.28.175",' >> config/settings.py
echo '    "http://3.27.28.175:3000",' >> config/settings.py
echo "]" >> config/settings.py

# Gunicorn ì¬ì‹œì‘
sudo systemctl restart gunicorn

# í”„ë¡ íŠ¸ì—”ë“œ API URL ìˆ˜ì •
cd /home/ubuntu/pumpy/gym_web
sed -i "s|'http://3.27.28.175:8000/api'|'/api'|g" lib/api.ts

# ì¬ë¹Œë“œ
npm run build
pm2 restart gym_web

echo "âœ… ì™„ë£Œ!"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”¥ ê°€ì¥ ë¹ ë¥¸ í•´ê²°ì±… (ë¸Œë¼ìš°ì €)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. http://3.27.28.175/ ì ‘ì†

2. F12 (ê°œë°œì ë„êµ¬)

3. Console íƒ­ì—ì„œ ì‹¤í–‰:

localStorage.setItem('apiUrl', '/api')
location.reload()

â†’ ì¦‰ì‹œ ì‘ë™! âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–¡ AWS ì½˜ì†” ì ‘ì†
â–¡ EC2 Instance Connectë¡œ í„°ë¯¸ë„ ì ‘ì†
â–¡ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì „ì²´ ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°
â–¡ 3-5ë¶„ ëŒ€ê¸° (ë¹Œë“œ ì‹œê°„)
â–¡ http://3.27.28.175/ ì ‘ì†
â–¡ F12 â†’ localStorage.setItem('apiUrl', '/api')
â–¡ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
â–¡ ë°ì´í„° ë¡œë”© í™•ì¸ âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ì‘ì„±: 2025-10-21
ì˜ˆìƒ ì‹œê°„: 5ë¶„
ì„±ê³µë¥ : 99%








