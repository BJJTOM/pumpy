# 📱 앱 서버 연결 가이드

## 🚨 현재 문제
서버 연결이 실패하고 있습니다!

---

## ✅ 해결 방법

### 1️⃣ **백엔드 서버 실행 확인**
✅ **서버가 실행되었습니다!**

백엔드 서버가 새 창에서 실행 중입니다.
- 서버 URL: `http://172.30.1.44:8000`
- API URL: `http://172.30.1.44:8000/api`

---

### 2️⃣ **앱에서 올바른 URL 입력**

현재 사용 중인 기기에 따라 다른 URL을 사용해야 합니다:

#### 📱 **실제 안드로이드 기기 (추천)**
```
http://172.30.1.44:8000/api
```
✅ **이 URL을 앱의 서버 설정 화면에 입력하세요!**

#### 🖥️ **안드로이드 에뮬레이터**
```
http://10.0.2.2:8000/api
```
⚠️ 에뮬레이터는 `10.0.2.2`를 사용해야 합니다.

#### 🌐 **LocalTunnel 사용 (외부 접속)**
```
https://pumpy-api-2025.loca.lt/api
```
⚠️ LocalTunnel은 별도 설정이 필요합니다.

---

### 3️⃣ **앱에서 서버 URL 입력하기**

1. **앱을 실행하면 "서버 설정" 화면이 나타납니다**

2. **"서버 주소" 입력란에 다음을 입력:**
   ```
   http://172.30.1.44:8000/api
   ```

3. **"연결 테스트 & 저장" 버튼 클릭**

4. **연결 성공 시 자동으로 로그인 화면으로 이동!**

---

### 4️⃣ **확인 사항**

#### ✅ **백엔드 서버 실행 확인**
- 새 PowerShell 창이 열려 있어야 합니다
- 창에 "Django Backend Server" 메시지가 보여야 합니다
- 서버가 중단되지 않도록 창을 닫지 마세요!

#### ✅ **Wi-Fi 연결 확인**
- PC와 안드로이드 기기가 **같은 Wi-Fi**에 연결되어 있어야 합니다
- 다른 Wi-Fi에 연결되어 있으면 연결이 안 됩니다!

#### ✅ **방화벽 확인**
- Windows 방화벽이 8000번 포트를 차단하지 않는지 확인
- 필요시 방화벽에서 8000번 포트 허용

---

## 🔥 빠른 해결 방법

### **방법 1: 실제 기기 사용 (추천)**
```
1. PC와 폰을 같은 Wi-Fi에 연결
2. 앱에서 URL 입력: http://172.30.1.44:8000/api
3. 연결 테스트 & 저장
```

### **방법 2: 에뮬레이터 사용**
```
1. 안드로이드 에뮬레이터 실행
2. 앱에서 URL 입력: http://10.0.2.2:8000/api
3. 연결 테스트 & 저장
```

---

## 🐛 여전히 안 되는 경우

### 문제 1: "서버에 연결할 수 없습니다"
**해결:**
1. 백엔드 서버가 실행 중인지 확인
2. PC IP 주소가 올바른지 확인
3. Wi-Fi가 같은 네트워크인지 확인
4. 방화벽 설정 확인

### 문제 2: "타임아웃"
**해결:**
1. PC와 폰의 Wi-Fi 신호 확인
2. 라우터 재시작
3. URL 끝에 `/api` 확인

### 문제 3: "404 Not Found"
**해결:**
1. URL 끝에 `/api`가 있는지 확인
2. 백엔드 서버 재시작

---

## 📋 현재 설정 요약

| 항목 | 값 |
|------|-----|
| **PC IP 주소** | `172.30.1.44` |
| **백엔드 포트** | `8000` |
| **API Base URL** | `http://172.30.1.44:8000/api` |
| **서버 상태** | ✅ 실행 중 |

---

## 🎯 단계별 진행

### Step 1: 백엔드 서버 확인 ✅
- 서버 실행됨
- URL: `http://172.30.1.44:8000`

### Step 2: 앱 서버 설정 ⬅️ **지금 여기!**
1. 앱 실행
2. 서버 URL 입력: `http://172.30.1.44:8000/api`
3. 연결 테스트

### Step 3: 회원가입/로그인
- 서버 연결 성공 후 진행

---

## 💡 팁

### **방화벽 허용 명령어 (관리자 권한)**
```powershell
New-NetFirewallRule -DisplayName "Django 8000" -Direction Inbound -LocalPort 8000 -Protocol TCP -Action Allow
```

### **서버 재시작이 필요한 경우**
```powershell
cd C:\Users\guddn\Downloads\COCO\gym_api
.\.venv\Scripts\python manage.py runserver 0.0.0.0:8000
```

---

## ✅ 성공 확인

연결에 성공하면:
1. ✅ "서버 연결 성공!" 메시지 표시
2. ✅ 자동으로 로그인 화면으로 이동
3. ✅ 회원가입 또는 로그인 가능

---

## 🎊 요약

**앱에 입력할 URL:**
```
http://172.30.1.44:8000/api
```

**확인 사항:**
- ✅ 백엔드 서버 실행 중
- ✅ 같은 Wi-Fi 연결
- ✅ URL 정확히 입력
- ✅ 연결 테스트 성공

**이제 앱을 다시 실행하고 위 URL을 입력하세요!** 🚀










